<!-- Card Carousel -->
<div *ngIf="carrierCards && carrierCards.length > 0; else emptyState" class="card-carousel">
  <div class="card-carousel-bg card-body d-flex" *ngFor="let carrierCard of carrierCards; let i = index"
    [ngClass]="{'active-card': i === activeIndex}" [style.transform]="getTransform(i)"
    [style.zIndex]="carrierCards.length - i" (swipeleft)="nextCard()" (swiperight)="prevCard()">
    <div class="card-content me-2 me-md-0 me-xxl-0">
      <div class="mb-2 mt-2 mt-md-2 text-end pt-2 d-flex justify-content-between">
        <div>
          <h6 class="text-muted">{{'carrier' | translate}}</h6>
          <h6 class="text-dark">{{ carrierCard?.carrierFirstName }}</h6>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div>
          <label class="text-muted mb-2">{{'nationalID' | translate}}</label>
          <p class="text-primary">{{ carrierCard?.nationalID }}</p>
        </div>
        <div class="mx-4">
          <label class="text-muted mb-2">{{'expiry_date' | translate}}</label>
          <p class="text-primary">{{ carrierCard?.expiryDate }}</p>
        </div>
      </div>
      <div class="d-flex justify-content-between">
        <div>
          <label class="text-muted mb-2">{{'facility_number' | translate}}</label>
          <p class="text-primary">{{ carrierCard?.facility_number }}</p>
        </div>
      </div>
      <div>
        <!-- Added Image View Icon -->
        <button class="dialog-button" (click)="openImageModal(carrierCard); $event.stopPropagation();" aria-label="View ID Card">
          <svg xmlns="http://www.w3.org/2000/svg" width="25" height="18" viewBox="0 0 18 18" fill="none">
            <path
              d="M5.72237 0.95874C6.06617 0.989585 6.32001 1.29331 6.28917 1.6371C6.25832 1.98088 5.95466 2.23456 5.61089 2.20376L5.60929 2.20362L5.60308 2.20307L5.5772 2.20087C5.55415 2.19894 5.51975 2.19612 5.4755 2.19271C5.38694 2.18587 5.25913 2.17663 5.10381 2.16717C4.79236 2.1482 4.37414 2.12856 3.94198 2.12525C3.62306 2.1228 3.3061 2.12936 3.02352 2.14988L7.77275 6.8929C8.01699 7.13682 8.01724 7.53254 7.77333 7.77678C7.52941 8.02102 7.13368 8.02128 6.88944 7.77736L2.14872 3.04284C2.1293 3.32045 2.1231 3.63015 2.12549 3.94174C2.12881 4.37389 2.14846 4.79211 2.16744 5.10356C2.1769 5.25888 2.18614 5.38669 2.19298 5.47524C2.1964 5.5195 2.19921 5.5539 2.20114 5.57695L2.20335 5.60283L2.20389 5.60904L2.20401 5.6104C2.23482 5.95416 1.98116 6.25808 1.63739 6.28893C1.29359 6.31978 0.989879 6.06609 0.959028 5.72229L0.958738 5.71902L0.958038 5.71103L0.955513 5.6814C0.953364 5.65578 0.95033 5.61864 0.946688 5.57147C0.939407 5.47716 0.929681 5.34255 0.919751 5.1796C0.899939 4.8545 0.879074 4.41278 0.875528 3.95134C0.872012 3.49374 0.885298 2.99881 0.938117 2.57355C0.96445 2.36153 1.00266 2.14925 1.06061 1.95983C1.1139 1.7856 1.20515 1.55713 1.38125 1.38103C1.55735 1.20493 1.78582 1.11368 1.96006 1.06038C2.14947 1.00244 2.36176 0.964225 2.57377 0.93789C2.99904 0.885066 3.49397 0.871773 3.95157 0.875282C4.413 0.878821 4.85473 0.899679 5.17982 0.919485C5.34278 0.929413 5.47739 0.939136 5.5717 0.946415C5.61887 0.950056 5.65601 0.95309 5.68163 0.955238L5.71126 0.957763L5.71925 0.958463L5.72237 0.95874Z"
              fill="white"/>
            <path
              d="M12.2803 17.0375C11.9365 17.0067 11.6826 16.703 11.7135 16.3592C11.7443 16.0154 12.048 15.7617 12.3918 15.7925L12.3996 15.7932L12.4254 15.7954C12.4485 15.7973 12.4829 15.8001 12.5271 15.8036C12.6157 15.8104 12.7435 15.8196 12.8988 15.8291C13.2103 15.8481 13.6285 15.8677 14.0607 15.871C14.3796 15.8735 14.6965 15.8669 14.9791 15.8464L10.2299 11.1034C9.98566 10.8594 9.9854 10.4637 10.2293 10.2195C10.4732 9.97524 10.869 9.97498 11.1132 10.2189L15.8539 14.9534C15.8733 14.6758 15.8795 14.3661 15.8772 14.0545C15.8738 13.6224 15.8542 13.2042 15.8352 12.8927C15.8257 12.7374 15.8165 12.6096 15.8097 12.521C15.8062 12.4768 15.8034 12.4424 15.8015 12.4193L15.7993 12.3934L15.7988 12.3872L15.7986 12.3859C15.7678 12.0421 16.0215 11.7382 16.3653 11.7073C16.7091 11.6765 17.0128 11.9302 17.0436 12.274L17.0439 12.2772L17.0446 12.2852L17.0471 12.3149C17.0493 12.3405 17.0523 12.3776 17.056 12.4248C17.0632 12.5191 17.073 12.6537 17.0829 12.8167C17.1027 13.1418 17.1236 13.5835 17.1271 14.0449C17.1306 14.5025 17.1173 14.9974 17.0645 15.4227C17.0382 15.6347 17 15.847 16.942 16.0364C16.8887 16.2107 16.7975 16.4391 16.6214 16.6152C16.4453 16.7913 16.2168 16.8826 16.0426 16.9359C15.8532 16.9938 15.6409 17.032 15.4289 17.0584C15.0036 17.1112 14.5087 17.1245 14.0511 17.121C13.5896 17.1174 13.1479 17.0966 12.8228 17.0768C12.6599 17.0668 12.5253 17.0571 12.431 17.0498C12.3838 17.0462 12.3466 17.0432 12.321 17.041L12.2914 17.0385L12.2834 17.0378L12.2803 17.0375Z"
              fill="white"/>
            <path
              d="M11.7135 1.6371C11.6826 1.29331 11.9365 0.989585 12.2803 0.95874L12.2834 0.958463L12.2914 0.957763L12.321 0.955238C12.3466 0.95309 12.3838 0.950056 12.4309 0.946415C12.5253 0.939136 12.6599 0.929413 12.8228 0.919485C13.1479 0.899679 13.5896 0.878821 14.0511 0.875282C14.5087 0.871773 15.0036 0.885066 15.4289 0.93789C15.6409 0.964225 15.8532 1.00244 16.0426 1.06038C16.2168 1.11368 16.4453 1.20493 16.6214 1.38103C16.7975 1.55713 16.8887 1.7856 16.942 1.95983C17 2.14925 17.0382 2.36153 17.0645 2.57355C17.1173 2.99881 17.1306 3.49374 17.1271 3.95134C17.1236 4.41278 17.1027 4.8545 17.0829 5.1796C17.073 5.34255 17.0632 5.47716 17.056 5.57147C17.0523 5.61864 17.0493 5.65578 17.0471 5.6814L17.0446 5.71103L17.0439 5.71902L17.0436 5.72229C17.0128 6.06609 16.7091 6.31978 16.3653 6.28893C16.0215 6.25808 15.7678 5.95416 15.7986 5.6104L15.7988 5.60904L15.7993 5.60283L15.8015 5.57695C15.8034 5.5539 15.8062 5.5195 15.8097 5.47524C15.8165 5.38669 15.8257 5.25888 15.8352 5.10356C15.8542 4.79211 15.8738 4.37389 15.8772 3.94174C15.8795 3.63015 15.8733 3.32045 15.8539 3.04284L11.1132 7.77736C10.869 8.02128 10.4732 8.02102 10.2293 7.77678C9.9854 7.53254 9.98566 7.13682 10.2299 6.8929L14.9791 2.14988C14.6965 2.12936 14.3796 2.1228 14.0607 2.12525C13.6285 2.12856 13.2103 2.1482 12.8988 2.16717C12.7435 2.17663 12.6157 2.18587 12.5271 2.19271C12.4829 2.19612 12.4485 2.19894 12.4254 2.20087L12.3996 2.20307L12.3934 2.20362L12.3918 2.20376C12.048 2.23456 11.7443 1.98088 11.7135 1.6371Z"
              fill="white"/>
            <path
              d="M5.72237 17.0375C6.06617 17.0067 6.32001 16.703 6.28917 16.3592C6.25832 16.0154 5.95466 15.7617 5.61089 15.7925L5.60308 15.7932L5.5772 15.7954C5.55415 15.7973 5.51975 15.8001 5.4755 15.8036C5.38694 15.8104 5.25913 15.8196 5.10381 15.8291C4.79236 15.8481 4.37414 15.8677 3.94198 15.871C3.62306 15.8735 3.3061 15.8669 3.02352 15.8464L7.77275 11.1034C8.01698 10.8594 8.01724 10.4637 7.77333 10.2195C7.52941 9.97524 7.13368 9.97498 6.88944 10.2189L2.14872 14.9534C2.1293 14.6758 2.1231 14.3661 2.12549 14.0545C2.12881 13.6224 2.14846 13.2042 2.16744 12.8927C2.1769 12.7374 2.18614 12.6096 2.19298 12.521C2.1964 12.4768 2.19921 12.4424 2.20114 12.4193L2.20335 12.3934L2.20389 12.3872L2.20401 12.3859C2.23482 12.0421 1.98116 11.7382 1.63739 11.7073C1.29359 11.6765 0.989879 11.9302 0.959028 12.274L0.958737 12.2772L0.958038 12.2852L0.955512 12.3149C0.953364 12.3405 0.950329 12.3776 0.946687 12.4248C0.939406 12.5191 0.929681 12.6537 0.91975 12.8167C0.899939 13.1418 0.879074 13.5835 0.875528 14.0449C0.872012 14.5025 0.885298 14.9975 0.938117 15.4227C0.96445 15.6347 1.00266 15.847 1.0606 16.0364C1.1139 16.2107 1.20515 16.4391 1.38125 16.6152C1.55735 16.7913 1.78582 16.8826 1.96006 16.9359C2.14947 16.9938 2.36176 17.032 2.57377 17.0584C2.99904 17.1112 3.49397 17.1245 3.95157 17.121C4.413 17.1174 4.85473 17.0966 5.17982 17.0768C5.34278 17.0668 5.47739 17.0571 5.5717 17.0498C5.61887 17.0462 5.65601 17.0432 5.68163 17.041L5.71126 17.0385L5.71925 17.0378L5.72237 17.0375Z"
              fill="white"/>
          </svg>
        </button>
      </div>
    </div>
  </div>
</div>

<!-- Navigation Dots -->
<div *ngIf="carrierCards && carrierCards.length > 0" class="dots-container">
  <span class="dot" *ngFor="let card of carrierCards; let i = index" [ngClass]="{'active-dot': i === activeIndex}"
    (click)="goToCard(i)"></span>
</div>

<!-- Empty State -->
<ng-template #emptyState>
  <div class="card shadow-sm rounded-4">
    <div class="empty-state text-center">
      <img
        src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NSIgaGVpZ2h0PSI5MiIgdmlld0JveD0iMCAwIDg1IDkyIiBmaWxsPSJub25lIj4KICA8cGF0aCBkPSJNMjEuMzQwMyA0Mi4yNzE2TDU1LjE4NzcgMzAuMDQ1OEM1Ni4wOTQyIDI5LjcxODMgNTcuMDk0NSAzMC4xODc3IDU3LjQyMTkgMzEuMDk0Mkw2NC41NjMgNTAuODY0NEM2NC44OTA0IDUxLjc3MDggNjQuNDIxIDUyLjc3MTEgNjMuNTE0NSA1My4wOTg2TDI5LjY2NzEgNjUuMzI0NEMyOC43NjA2IDY1LjY1MTkgMjcuNzYwMyA2NS4xODI0IDI3LjQzMjkgNjQuMjc2TDIwLjI5MTggNDQuNTA1OEMxOS45NjQ0IDQzLjU5OTMgMjAuNDMzOCA0Mi41OTkxIDIxLjM0MDMgNDIuMjcxNloiIGZpbGw9IndoaXRlIiBzdHJva2U9IiM4OUFGQzYiLz4KICA8cGF0aCBkPSJNNDQuNzQ2NyAyNy41ODY3QzQ0Ljc0NjcgMjcuNjM0NiA0NC43MDc5IDI3LjY3MzQgNDQuNjYgMjcuNjczNEM0NC42MTIxIDI3LjY3MzQgNDQuNTczMiAyNy42MzQ2IDQ0LjU3MzIgMjcuNTg2N0M0NC41NzMyIDI3LjUzODggNDQuNjEyMSAyNy41IDQ0LjY2IDI3LjVDNDQuNzA3OSAyNy41IDQ0Ljc0NjcgMjcuNTM4OCA0NC43NDY3IDI3LjU4NjdaIiBmaWxsPSIjQ0ZDRkNGIiBzdHJva2U9IiM4OUFGQzYiLz4KICA8cGF0aCBkPSJNMjguMzU3NCAzMS45NjMzVjM0LjU0MzYiIHN0cm9rZT0iIzg5QUZDNiIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+CiAgPHBhdGggZD0iTTI3LjA2NDIgMzMuMjU2NUgyOS42NDQ2IiBzdHJva2U9IiM4OUFGQzYiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPgogIDxwYXRoIGQ9Ik02NC45MTk3IDQyLjc4NzdINjcuNTAwMSIgc3Ryb2tlPSIjODlBRkM2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICA8cGF0aCBkPSJNNTYuMzA5IDQyLjcxODNMMjAuNzIwMiA0OC4wNjI1QzE5LjQ5NCA0OC4yNDY2IDE4LjY0OTMgNDkuMzg5OSAxOC44MzM0IDUwLjYxNjFMMjEuOTU0OSA3MS40MDMzQzIyLjEzOSA3Mi42Mjk1IDIzLjI4MjMgNzMuNDc0MyAyNC41MDg1IDczLjI5MDJMNjAuMDk3MyA2Ny45NDZDNjEuMzIzNSA2Ny43NjE5IDYyLjE2ODMgNjYuNjE4NiA2MS45ODQxIDY1LjM5MjRMNTguODYyNiA0NC42MDUxQzU4LjY3ODUgNDMuMzc4OSA1Ny41MzUyIDQyLjUzNDIgNTYuMzA5IDQyLjcxODNaIiBmaWxsPSJ3aGl0ZSIgc3Ryb2tlPSIjODlBRkM2IiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1saW5lam9pbj0icm91bmQiLz4KICA8cGF0aCBkPSJNNTQuOTUxMSA1MC45Mjc1QzU1LjAxMTIgNTEuMTcwMiA1NS4wMTE0IDUxLjE3MDIgNTUuMDExNiA1MS4xNzAxTDU1LjAxMiA1MS4xN0w1NS4wMTMgNTEuMTY5OEw1NS4wMTU0IDUxLjE2OTJMNTUuMDIxNyA1MS4xNjc1QzU1LjAyNjUgNTEuMTY2MSA1NS4wMzI3IDUxLjE2NDMgNTUuMDQwMiA1MS4xNjIxQzU1LjA1NTEgNTEuMTU3NSA1NS4wNzUgNTEuMTUwOSA1NS4wOTkxIDUxLjE0MTlDNTUuMTQ3NSA1MS4xMjM4IDU1LjIxMyA1MS4wOTU4IDU1LjI4OTkgNTEuMDU0QzU1LjQ0MzcgNTAuOTcwMyA1NS42NDI2IDUwLjgzMTUgNTUuODM3MSA1MC42MDc5QzU2LjIzMDIgNTAuMTU2MSA1Ni41ODIzIDQ5LjM4NTkgNTYuNTUxNiA0OC4wOThMNTYuNTQ2IDQ3Ljg2MzhMNTYuMzEyNCA0Ny44NTQxTDU2LjMxMjMgNDcuODU0MUw1Ni4zMTIyIDQ3Ljg1NDFMNTYuMzEyMiA0Ny44NTQxTDU2LjMxMDcgNDcuODU0MUw1Ni4zMDI1IDQ3Ljg1MzZDNTYuMjk0OCA0Ny44NTMxIDU2LjI4MjggNDcuODUyNCA1Ni4yNjY4IDQ3Ljg1MTFDNTYuMjM0OSA0Ny44NDg1IDU2LjE4NzMgNDcuODQ0IDU2LjEyNzQgNDcuODM2NUM1Ni4wMDczIDQ3LjgyMTMgNTUuODM5IDQ3Ljc5MzkgNTUuNjQ4NiA0Ny43NDUxQzU1LjI2MyA0Ny42NDYyIDU0LjgxIDQ3LjQ2NTggNTQuNDc0MSA0Ny4xNDQzTDU0LjIzNDkgNDYuOTE1NEw1NC4wODAyIDQ3LjIwODFDNTMuODQzMiA0Ny42NTY2IDUzLjQ3NjggNDcuOTg2MyA1My4xNjA3IDQ4LjIwNjNDNTMuMDAzOCA0OC4zMTU1IDUyLjg2MjQgNDguMzk1NiA1Mi43NjA5IDQ4LjQ0NzlDNTIuNzEwMyA0OC40NzQxIDUyLjY2OTkgNDguNDkzMiA1Mi42NDI5IDQ4LjUwNTVDNTIuNjI5MyA0OC41MTE3IDUyLjYxOTIgNDguNTE2MSA1Mi42MTI4IDQ4LjUxODlMNTIuNjA2IDQ4LjUyMTdMNTIuNjA1MiA0OC41MjIxTDUyLjYwNTEgNDguNTIyMUw1Mi42MDUgNDguNTIyMkw1Mi42MDQ5IDQ4LjUyMjJMNTIuNjA0OCA0OC41MjIyTDUyLjM4NTIgNDguNjExMkw1Mi40NjI4IDQ4LjgzNTVDNTIuODg0MSA1MC4wNTM0IDUzLjQ4MzEgNTAuNjUxOSA1NC4wMDkzIDUwLjkzNzhDNTQuMjY5NyA1MS4wNzk0IDU0LjUwNDUgNTEuMTM5OSA1NC42Nzc5IDUxLjE2NDVDNTQuNzY0NSA1MS4xNzY4IDU0LjgzNTggNTEuMTgwMSA1NC44ODc0IDUxLjE4MDFDNTQuOTEzMiA1MS4xODAxIDU0LjkzNDEgNTEuMTc5MyA1NC45NDk3IDUxLjE3ODRDNTQuOTU3NSA1MS4xNzc5IDU0Ljk2MzkgNTEuMTc3NCA1NC45Njg5IDUxLjE3N0w1NC45NzU0IDUxLjE3NjRMNTQuOTc3OCA1MS4xNzYxTDU0Ljk3ODkgNTEuMTc2TDU0Ljk3OTMgNTEuMTc2QzU0Ljk3OTUgNTEuMTc1OSA1NC45Nzk3IDUxLjE3NTkgNTQuOTUxMSA1MC45Mjc1Wk01NC45NTExIDUwLjkyNzVMNTUuMDExMiA1MS4xNzAyTDU0Ljk5NTYgNTEuMTc0MUw1NC45Nzk3IDUxLjE3NTlMNTQuOTUxMSA1MC45Mjc1WiIgc3Ryb2tlPSIjODlBRkM2IiBzdHJva2Utd2lkdGg9IjAuNSIgc3Ryb2tlLW1pdGVybGltaXQ9IjEwIi8+CiAgPHBhdGggZD0iTTM0LjEzMzEgNjQuNzMyOEMzNC4xMzMxIDY0LjczMyAzNC4xMzI5IDY0LjczMzQgMzQuMTMyNSA2NC43MzRDMzQuMTMyMiA2NC43MzQ0IDM0LjEzMTkgNjQuNzM0NyAzNC4xMzE3IDY0LjczNDhDMzQuMTMxNiA2NC43MzQ5IDM0LjEzMTYgNjQuNzM0OSAzNC4xMzE2IDY0LjczNDlDMzQuMTMxOSA2NC43MzQ3IDM0LjEzMTkgNjQuNzM0OSAzNC4xMzA2IDY0LjczNTFMMjUuMzc0IDY2LjA1QzI1LjM3MzUgNjYuMDUwMSAyNS4zNzMxIDY2LjA1MDEgMjUuMzczIDY2LjA1MDFDMjUuMzcyOCA2Ni4wNTAxIDI1LjM3MjQgNjYuMDQ5OSAyNS4zNzE5IDY2LjA0OTVDMjUuMzcxMyA2Ni4wNDkxIDI1LjM3MSA2Ni4wNDg3IDI1LjM3MDkgNjYuMDQ4NkMyNS4zNzA5IDY2LjA0ODUgMjUuMzcwOCA2Ni4wNDgxIDI1LjM3MDcgNjYuMDQ3NkwyNS4zMzE2IDY1Ljc4NzFDMjUuMzMxNSA2NS43ODYyIDI1LjMzMTUgNjUuNzg1OSAyNS4zMzE1IDY1Ljc4NTlDMjUuMzMxNSA2NS43ODU5IDI1LjMzMTUgNjUuNzg2IDI1LjMzMTUgNjUuNzg2MUMyNS4zMzE1IDY1Ljc4NjEgMjUuMzMxNSA2NS43ODYxIDI1LjMzMTUgNjUuNzg2MUMyNS4zMzE1IDY1Ljc4NjEgMjUuMzMxNiA2NS43ODU2IDI1LjMzMjEgNjUuNzg0OUMyNS4zMzI1IDY1Ljc4NDQgMjUuMzMyOSA2NS43ODQxIDI1LjMzMyA2NS43ODRDMjUuMzMzMiA2NS43ODM5IDI1LjMzMzUgNjUuNzgzOSAyNS4zMzQgNjUuNzgzOEwzNC4wOTA2IDY0LjQ2ODlDMzQuMDkxMiA2NC40Njg4IDM0LjA5MTUgNjQuNDY4OCAzNC4wOTE2IDY0LjQ2ODhNMzQuMTMzMSA2NC43MzI4QzM0LjEzMzIgNjQuNzMyOCAzNC4xMzMyIDY0LjczMjggMzQuMTMzMiA2NC43MzI4QzM0LjEzMzEgNjQuNzMzIDM0LjEzMzEgNjQuNzMzMSAzNC4xMzMxIDY0LjczMjhaTTM0LjEzMzEgNjQuNzMyOEMzNC4xMzMxIDY0LjczMjcgMzQuMTMzMSA2NC43MzI0IDM0LjEzMyA2NC43MzE4TDM0LjA5MzkgNjQuNDcxM0MzNC4wOTM3IDY0LjQ3IDM0LjA5MzYgNjQuNDcgMzQuMDkzNyA2NC40NzAzQzM0LjA5MzggNjQuNDcwMyAzNC4wOTM3IDY0LjQ3MDIgMzQuMDkzNCA2NC40N0MzNC4wOTMzIDY0LjQ2OTggMzQuMDkzMSA2NC40Njk2IDM0LjA5MjggNjQuNDY5NEMzNC4wOTIyIDY0LjQ2OSAzNC4wOTE4IDY0LjQ2ODggMzQuMDkxNyA2NC40Njg4QzM0LjA5MTcgNjQuNDY4OCAzNC4wOTE2IDY0LjQ2ODggMzQuMDkxNiA2NC40Njg4TTM0LjA5MTYgNjQuNDY4OEMzNC4wOTE5IDY0LjQ2ODggMzQuMDkxOCA2NC40Njg4IDM0LjA5MTYgNjQuNDY4N0MzNC4wOTE2IDY0LjQ2ODcgMzQuMDkxNiA2NC40Njg3IDM0LjA5MTYgNjQuNDY4OFoiIGZpbGw9IndoaXRlIiBzdHJva2U9IiM4OUFGQzYiLz4KICA8cGF0aCBkPSJNMjUuODQyNSA2OC4yNzU3TDQwLjAxMDUgNjYuMTQ4MkM0MC4wODQgNjYuMTM3MSA0MC4xNTI1IDY2LjE4NzggNDAuMTYzNiA2Ni4yNjEzQzQwLjE3NDYgNjYuMzM0OCA0MC4xMjQgNjYuNDAzNCA0MC4wNTA1IDY2LjQxNDRMMjUuODgyNCA2OC41NDJDMjUuODA4OSA2OC41NTMgMjUuNzQwNCA2OC41MDIzIDI1LjcyOTMgNjguNDI4OEMyNS43MTgzIDY4LjM1NTMgMjUuNzY4OSA2OC4yODY3IDI1Ljg0MjUgNjguMjc1N1oiIGZpbGw9IndoaXRlIiBzdHJva2U9IiM4OUFGQzYiLz4KPC9zdmc+' />
      <p class="text-muted">{{'empty-cards-message' | translate}}</p>
    </div>
  </div>
</ng-template>

<!-- Image Modal -->
<div class="modal fade" [ngClass]="{'show': isImageModalOpen}" [style.display]="isImageModalOpen ? 'block' : 'none'" tabindex="-1" role="dialog" aria-labelledby="cardImageModal" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title">{{'carrier_card_image' | translate}}</h5>
        <button type="button" class="btn-close" aria-label="Close" (click)="closeImageModal()"></button>
      </div>
      <div class="modal-body text-center">
        <!-- Here we're using a placeholder image, replace with actual card image when available -->
        <img src="/assets/images/carrier-card-sample.jpg" alt="carrier Card Image" class="img-fluid rounded" onerror="this.src='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI4NSIgaGVpZ2h0PSI5MiIgdmlld0JveD0iMCAwIDg1IDkyIiBmaWxsPSJub25lIj4KICA8cGF0aCBkPSJNMjEuMzQwMyA0Mi4yNzE2TDU1LjE4NzcgMzAuMDQ1OEM1Ni4wOTQyIDI5LjcxODMgNTcuMDk0NSAzMC4xODc3IDU3LjQyMTkgMzEuMDk0Mkw2NC41NjMgNTAuODY0NEM2NC44OTA0IDUxLjc3MDggNjQuNDIxIDUyLjc3MTEgNjMuNTE0NSA1My4wOTg2TDI5LjY2NzEgNjUuMzI0NEMyOC43NjA2IDY1LjY1MTkgMjcuNzYwMyA2NS4xODI0IDI3LjQzMjkgNjQuMjc2TDIwLjI5MTggNDQuNTA1OEMxOS45NjQ0IDQzLjU5OTMgMjAuNDMzOCA0Mi41OTkxIDIxLjM0MDMgNDIuMjcxNloiIGZpbGw9IndoaXRlIiBzdHJva2U9IiM4OUFGQzYiLz48L3N2Zz4=';" />
        
        <div class="mt-3">
          <h6>{{ selectedcarrierCard?.carrierFirstName }} {{ selectedcarrierCard?.carrierLastName }}</h6>
          <p class="text-muted mb-0">{{ selectedcarrierCard?.nationalID }}</p>
          <p class="text-muted">{{ (currentLanguage?.startsWith('en') ? selectedcarrierCard?.activityNameEn : selectedcarrierCard?.facility_number) }}</p>
        </div>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" (click)="closeImageModal()">{{'close' | translate}}</button>
        <button type="button" class="btn btn-primary" (click)="downloadCardImage()">{{'download' | translate}}</button>
      </div>
    </div>
  </div>
</div>

<!-- Modal Backdrop -->
<div class="modal-backdrop fade show" *ngIf="isImageModalOpen"></div>